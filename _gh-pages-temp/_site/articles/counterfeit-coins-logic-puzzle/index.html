<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Counterfeit coins - Solving a logic puzzle with Javascript | Will Ranjan-Churchill</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Counterfeit coins - Solving a logic puzzle with Javascript | Will Ranjan-Churchill</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Counterfeit coins - Solving a logic puzzle with Javascript" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Solving a logic puzzle using Javascript" />
<meta property="og:description" content="Solving a logic puzzle using Javascript" />
<link rel="canonical" href="https://willrc.co.uk/articles/counterfeit-coins-logic-puzzle/" />
<meta property="og:url" content="https://willrc.co.uk/articles/counterfeit-coins-logic-puzzle/" />
<meta property="og:site_name" content="Will Ranjan-Churchill" />
<meta property="og:image" content="https://willrc.co.uk/assets/images/articles/code.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-11-08T10:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://willrc.co.uk/assets/images/articles/code.jpg" />
<meta property="twitter:title" content="Counterfeit coins - Solving a logic puzzle with Javascript" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-11-08T10:00:00+00:00","datePublished":"2022-11-08T10:00:00+00:00","description":"Solving a logic puzzle using Javascript","headline":"Counterfeit coins - Solving a logic puzzle with Javascript","image":"https://willrc.co.uk/assets/images/articles/code.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://willrc.co.uk/articles/counterfeit-coins-logic-puzzle/"},"url":"https://willrc.co.uk/articles/counterfeit-coins-logic-puzzle/"}</script>
<!-- End Jekyll SEO tag -->


<link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico">

<!-- CSS -->
<link rel="stylesheet" href="/assets/css/skeleton-wrc.css">
<link rel="stylesheet" href="/assets/css/syntax.css" />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=Montserrat&display=swap" rel="stylesheet">

<script src="https://kit.fontawesome.com/d9406cdf40.js" crossorigin="anonymous"></script>
<script src="/assets/js/lunr.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KTETBDVBN2"></script>
    <style>
    #cookie-notice {padding: 1.5rem; display: none; text-align: center; position: fixed; bottom: 0; width: calc(100% - 2rem); background: #222; color: rgba(255,255,255,0.8); z-index:100;}
    #cookie-notice a {display: inline-block; cursor: pointer; margin-left: 0.5rem;}
    @media (max-width: 767px) {
        #cookie-notice span {display: block; padding-top: 3px; margin-bottom: 1rem;}
        #cookie-notice a {position: relative; bottom: 4px;}
    }
</style>
<div id="cookie-notice">
    <div>We would like to use a small number of third party cookies to help get a better understanding of website usage.<br>If you consent to this, please click the Approve button. If not, no worries! Just hit the Decline button and carry on. If you want more information, you can read our <a href="/privacy">Privacy Policy</a>.</div>
    <div><br><a id="cookie-notice-accept" class="button button-primary">Approve</a><a id="cookie-notice-decline" class="button">Decline</a></div>
</div>
<script>
    function createCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
    function eraseCookie(name) {
        createCookie(name,"",-1);
    }

    if(readCookie('cookie-notice')=='accepted') {
        window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-KTETBDVBN2');
        console.log("GA loaded");
    } else if(readCookie('cookie-notice')=='declined') {
        console.log("GA disabled");
    }
    else {
        document.getElementById('cookie-notice').style.display = 'block';
        console.log("GA tbd");
    }
    document.getElementById('cookie-notice-accept').addEventListener("click",function() {
        createCookie('cookie-notice','accepted',31);
        document.getElementById('cookie-notice').style.display = 'none';
        location.reload();
    });
    document.getElementById('cookie-notice-decline').addEventListener("click",function() {
        createCookie('cookie-notice','declined',31);
        document.getElementById('cookie-notice').style.display = 'none';
        location.reload();
    });
    
</script>
</head>

<body>

    <div class="container-wide">
    <div class="row row-padding">
        <div class="six columns"><div class="wrc-sitetitle"><a href="https://willrc.co.uk" class="wrc-sitelogo">Will Ranjan-Churchill</div></div>
        <div class="six columns" style="text-align:right;">
            <div class="wrc-sitetitle">
                <span class="wrc-navlink"><a href="https://willrc.co.uk/about">About me</a></span>
                <span class="wrc-navlink"><a href="https://willrc.co.uk/my-work">My work</a></span>
                <span class="wrc-navlink"><a href="https://willrc.co.uk/services">Services</a></span>
                <span class="wrc-navlink"><a href="https://willrc.co.uk/articles">Articles</a></span>
                <span class="wrc-navlink"><a href="https://willrc.co.uk/contact">Get in touch</a></span>
                <span class="wrc-navlink"><a href="https://willrc.co.uk/search">Search</a></span>
            </div>
        </div>
    </div>
</div>

    <div class="container-wide wrc-headercontainer" style="background-image:url('https://willrc.co.uk/assets/images/articles/code.jpg')">
    <div class="row">
        <div class="twelve columns wrc-postheader">
            <div class="wrc-postheadercontents">
                <div>coding | javascript</div>
                <h1>Counterfeit coins - Solving a logic puzzle with Javascript</h1>
                <div>08 Nov, 2022 | <span class="reading-time">
  
  
    15 min read
  
</span>
    </div>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="twelve columns">
            
            
            <p><strong><em>It’s been a while since I’ve done coding for the fun of it, so I thought I’d get back into the game, and bring you along for the ride. In a series of these posts, I’ll be solving problems with code. Sort of like doing a crossword puzzle for nerds. There isn’t really a point to these, except to show some of the practical (and non-practical) uses for actual coding.</em></strong></p>

<p><a href="https://willrc.co.uk/articles/function-check-nested-brackets/">Last time</a>, I looked at creating a function for checking nested brackets. In this post, I’ll be walking through how to write some code to demonstrate a solution to a logic puzzle.</p>

<p>The logic puzzle in question is the following:</p>

<blockquote>
  <p>You have 10 piles of 10 coins. The coins in 9 of these piles are genuine. All of the coins in the remaining pile are counterfeit. You can tell a counterfeit coin by its weight - it is heavier than a genuine coin. Real coins weigh 10 units, and fake ones weigh 11. In as few measurements as possible, determine which is the counterfeit pile?</p>
</blockquote>

<p>Let’s get to work.</p>

<h2 id="setting-up-the-problem">Setting up the problem</h2>

<p>For this exercise, I’m going to use the WebDev staple Javascript to do a series of checks. To start, I’m going to create my piles of coins. For this first stage, I’m arbitrarily going to set the 6th pile to be the counterfeit, but once I’m done it won’t matter. I’m going to create each pile as an array, with the value of each element equal to the weight. In this case, real coins weigh 10 units, and fake ones weigh 11:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">P1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P4</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P5</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P6</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">];</span>
<span class="nx">P7</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P8</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P9</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P10</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>

</code></pre></div></div>

<p>The array gives us the option to easily analyse both the pile as a whole, and also the individual coins in that pile.</p>

<h2 id="thinking-through-the-logic">Thinking through the logic</h2>

<p>Pretty much all coding is dealing with logic problems. You want an end result, so how do you get there. Computers are logic engines, that’s it. They will do exactly what you tell them to, but in a monkey paw sort of way, they will do <em>exactly</em> what you tell them to. So you need to understand what that means.</p>

<p>Anyway, soap box back away, let’s think about this problem. Let’s revisit the things we know:</p>

<ol>
  <li>We know the total number of coins is 100</li>
  <li>We know that 10 of them are fake</li>
  <li>We know all the fake coins are in the same pile</li>
  <li>We know all the piles have 10 coins</li>
  <li>We know the weight of a real coin, and the weight of a fake coin</li>
</ol>

<p>So, based on this we can make some further assumptions:</p>

<ul>
  <li>A pile of real coins will weigh <code class="language-plaintext highlighter-rouge">10*10</code>, or 100 units.</li>
  <li>We also know that the fake pile of coins will weigh <code class="language-plaintext highlighter-rouge">10*11</code>, or 110 units.</li>
</ul>

<p>So, clearly one way we can find out which pile is which is to weigh each pile. It’s arduous, but we know we’ll get the right answer. Let’s start there.</p>

<h2 id="iterating-through-the-arrays">Iterating through the arrays</h2>

<p>Let’s write some code that iterates through each of the arrays and gives us the weight. For ease, we’ll create it as a function so that we can reuse it:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">function</span> <span class="nx">weigh_pile</span><span class="p">(</span> <span class="nx">pile</span> <span class="p">){</span>
    <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span> <span class="kd">const</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">pile</span> <span class="p">){</span>
        <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<p>It’s a pretty simple function. We’re creating a variable called <code class="language-plaintext highlighter-rouge">sum</code> and as we iterate through the array we’re adding the value of the iteration to that variable. At the end of the function, we spit out the total value of the variable.</p>

<p>So, let’s put it to work. Now, this is Javascript, so we need to display this data somewhere. For now we’ll put it into a browser console using the <code class="language-plaintext highlighter-rouge">console.log()</code> function:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="dl">"</span><span class="s2">P1 weight: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">weigh_pile</span><span class="p">(</span> <span class="nx">P1</span> <span class="p">)</span> <span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="dl">"</span><span class="s2">P2 weight: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">weigh_pile</span><span class="p">(</span> <span class="nx">P2</span> <span class="p">)</span> <span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="dl">"</span><span class="s2">P3 weight: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">weigh_pile</span><span class="p">(</span> <span class="nx">P3</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">...</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="dl">"</span><span class="s2">P10 weight: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">weigh_pile</span><span class="p">(</span> <span class="nx">P10</span> <span class="p">)</span> <span class="p">);</span>

</code></pre></div></div>

<p>So, after we review the log we see that Pile 6 weighs more than the others - in fact it weighs 110 units - so that is the counterfeit pile. Congratulations, we’ve solved the problem. There’s definitely some room for improvement here though - for starters this requires 10 separate weighs. Really, the only way we could have made this longer is if we’d weighed each individual coin.</p>

<h2 id="maths-to-the-rescue">Maths to the rescue</h2>

<p>We actually have all we need to make this process much simpler. Because we know all the coins are in one pile, and because we know the weights of both the real and fake coins, we can create a new pile with a mixture of coins. If we take one coin from the first pile, two coins from the second, three from the third, etc all the way to the 10th pile, we can create a stack that gives us all we need to know.</p>

<p>Let’s create a new array, this time with increasing numbers of coins from each pile. (And remember that arrays in Javascript start on 0):</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">new_pile</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">P1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="nx">P2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="nx">P3</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P3</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P3</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="nx">P4</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P4</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P4</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P4</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
    <span class="nx">P5</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
    <span class="nx">P6</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
    <span class="nx">P7</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
    <span class="nx">P8</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
    <span class="nx">P9</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
    <span class="nx">P10</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>
<span class="p">];</span>

</code></pre></div></div>

<p>Now, we need to know the weight of this pile. Luckily we created a function earlier that will do just that, so let’s pop it in and show the result in the console.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">weigh_pile</span><span class="p">(</span> <span class="nx">new_pile</span> <span class="p">)</span> <span class="p">);</span>

</code></pre></div></div>

<p>There’s one more thing we need to know - or rather one more thing we need our script to know. We have a pile of 55 coins, and we know that if those coins were all genuine the pile should weigh <code class="language-plaintext highlighter-rouge">55*10</code>, or 550 units. So let’s make sure we have that, and capture it in a variable.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">legit_coins_weight</span> <span class="o">=</span> <span class="nx">new_pile</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>

</code></pre></div></div>

<p>I could have just stored the number 550 as a variable, but where would the fun be in that? Here I’ve asked the script to take the <code class="language-plaintext highlighter-rouge">length</code> of the array - in other words how many elements it has - and multiplied that by <code class="language-plaintext highlighter-rouge">10</code>.</p>

<p>Right! We have everything we need, and we’ve actually only used our scales once. If you haven’t worked out how all this helps us yet, go grab a cup of tea and let it percolate for a bit.</p>

<h2 id="the-solution">The solution</h2>

<p>Because we know the weights of the coins, and because we know how many coins from each pile we have, we can simply take the difference in the weights of our new pile, and the expected weight of the pile, and get our answer.</p>

<p>So let’s do that.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">weight_difference</span> <span class="o">=</span> <span class="nx">new_pile_weight</span> <span class="o">-</span> <span class="nx">legit_coins_weight</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">weight_difference</span> <span class="p">);</span>

</code></pre></div></div>

<p>This tells us that the stack weighs six units more than it should. Because the real and fake coin weights only differ by one, we know that there are 6 fake coins in this pile, and that must mean that OG pile 6 is the counterfeit one.</p>

<h2 id="tidying-up-the-code">Tidying up the code</h2>

<p>Let’s bring this all together, and remove the need to view the console by writing the result directly to the viewport.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// create arrays with the coin weights</span>
<span class="nx">P1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P4</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P5</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P6</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">];</span>
<span class="nx">P7</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P8</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P9</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="nx">P10</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>

<span class="c1">// create a new pile that takes one coin from the first pile, two from the second...</span>
<span class="nx">new_pile</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">P1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="nx">P2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="nx">P3</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P3</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P3</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="nx">P4</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P4</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P4</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P4</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
    <span class="nx">P5</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P5</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
    <span class="nx">P6</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P6</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
    <span class="nx">P7</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P7</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
    <span class="nx">P8</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">P8</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
    <span class="nx">P9</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="nx">P9</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
    <span class="nx">P10</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span><span class="nx">P10</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>
<span class="p">];</span>

<span class="c1">// build our scales to weigh the piles</span>
<span class="kd">function</span> <span class="nx">weigh_pile</span><span class="p">(</span> <span class="nx">pile</span> <span class="p">){</span>
    <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span> <span class="kd">const</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">pile</span> <span class="p">){</span>
        <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// calculate the expected weight of the new pile, assuming all coins weigh 10 units</span>
<span class="nx">legit_coins_weight</span> <span class="o">=</span> <span class="nx">new_pile</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>

<span class="c1">// calculate the actual weight of the new pile</span>
<span class="nx">new_pile_weight</span> <span class="o">=</span> <span class="nx">weigh_coins</span><span class="p">(</span><span class="nx">new_pile</span><span class="p">);</span>

<span class="c1">// calculate the difference</span>
<span class="c1">// fake coins weigh 1 unit more than real ones, so the difference will tell us how many of the fake coins are in the pile, and therefore what pile they are in</span>
<span class="nx">weight_difference</span> <span class="o">=</span> <span class="nx">new_pile_weight</span> <span class="o">-</span> <span class="nx">legit_coins_weight</span><span class="p">;</span>

<span class="c1">// give the result directly in the page</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Coins are in pile </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">weight_difference</span> <span class="p">);</span>

</code></pre></div></div>

<p>You can test the code works by changing the initial arrays to give a different pile the coins that weigh 11 units.</p>

<h2 id="variations-and-limitations">Variations and limitations</h2>

<h3 id="variation-fake-coins-weigh-more-than-11-units">Variation: Fake coins weigh more than 11 units</h3>

<p>What happens if we know the weights of the coins, but they weigh more than one unit more? Well we just need to add some instructions to take this into account. Again, maths is our friend here. What we are actually looking for is the difference in weight between the two piles, divided by the weight difference between the real and fake coins. We just missed this step last time because the weight difference was one. So let’s add that in.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">real_coin_weight</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">fake_coin_weight</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>

<span class="nx">difference_in_coin_weight</span> <span class="o">=</span> <span class="nx">fake_coin_weight</span> <span class="o">-</span> <span class="nx">real_coin_weight</span><span class="p">;</span>

<span class="nx">pile_number</span> <span class="o">=</span> <span class="nx">weight_difference</span> <span class="o">/</span> <span class="nx">difference_in_coin_weight</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Coins are in pile P</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">pile_number</span> <span class="p">);</span>

</code></pre></div></div>

<p>This code should come after the <code class="language-plaintext highlighter-rouge">weight_difference</code> calculation, and replace the <code class="language-plaintext highlighter-rouge">document.write()</code> command in the previous code. The <code class="language-plaintext highlighter-rouge">real_coin_weight</code> and <code class="language-plaintext highlighter-rouge">fake_coin_weight</code> variables can be changed as necessary, and the code will still hold.</p>

<h3 id="limitation-there-are-more-than-10-piles">Limitation: There are more than 10 piles</h3>

<p>The current setup is contingent us being able to take a different number of coins from each pile. At 10 piles of 10 coins, we’re at the top end of what this solution can do for us. Our solution breaks if we try to put in an 11th pile with 10 coins.</p>

<h2 id="final-thoughts">Final thoughts</h2>

<p>It might seem like a weird exercise to do - by the nature of the thing, we know which pile is heavier going in. For me though, this wasn’t really about the problem. Solving the problem happened “off the keyboard” as it where. I enjoyed the exercise of building something that would follow the logic through.</p>

            <p style="font-style: italic; font-weight: bold;"></p>
            <hr>
            <h4>You may enjoy</h4>
            




    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    
    <p>
        <span class="wrc-italics">Also in  <span class="label label-default">javascript, </span> </span>
        <a href="https://willrc.co.uk/articles/function-check-nested-brackets/" class="wrc-bree-serif">Crossword Puzzle for Nerds: Checking if brackets are nested</a>
    </p>
        
        
    

    
    

    
    

    
    

    
    

    
    

    
    
    <p>
        <span class="wrc-italics">Also in  <span class="label label-default">logic puzzle, </span>  <span class="label label-default">javascript, </span> </span>
        <a href="https://willrc.co.uk/articles/9-ball-problem-logic-puzzle/" class="wrc-bree-serif">9 ball problem - Solving a logic puzzle with Javascript</a>
    </p>
        
        
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    <span class="wrc-italics wrc-pr1">Or</span>
    <a href="https://willrc.co.uk/articles" class="button">See all articles</a>
            <hr>
            <span style="font-style:italic">
                
                <p>I believe there should be as few barriers to understanding technology as possible, so everything I post on this site is completely free to access. If you feel like you’ve learned something from this article, it would mean a lot if you shared it with others - via <a href="https://twitter.com/intent/tweet?url=https://willrc.co.uk%2Farticles%2Fcounterfeit-coins-logic-puzzle%2F&amp;text=Check+this+out+from+&#64;willchurchill&amp;hashtags=technology,webdev">Twitter</a>, <a href="https://www.facebook.com/sharer.php?u=https://willrc.co.uk%2Farticles%2Fcounterfeit-coins-logic-puzzle%2F">Facebook</a>, <a href="https://www.linkedin.com/shareArticle?url=https://willrc.co.uk%2Farticles%2Fcounterfeit-coins-logic-puzzle%2F&amp;source=Will-Churchill">LinkedIn</a>, or any other way you see fit.</p>

<p>You can also, if you’re so inclined, <a href="https://www.buymeacoffee.com/willchurchill">buy me a coffee</a> (though please don’t feel obliged to do so - there are definitely <a href="https://actions.tommys.org/a/tommys-change">better ways</a> you can spend your money).</p>

<p>I also offer paid services and advice. If you think you or your organisation would benefit from this <a href="mailto:will@willrc.co.uk">drop me an email</a> and we can arrange a no-pressure, no obligation, chat to see if I can help.</p>

            </span>
        </div>
    </div>
</div>

    <!-- Footer -->
<footer class="wrc-pb5">
    <div class="container-wide">
        <div class="row">
            <hr>
        </div>
        <div class="row row-padding wrc-sitetitle">
            <div class="four columns wrc-bree-serif wrc-mm-dl">
                © WRCTECH LTD, 2023</script>
            </div>
            <div class="four columns wrc-mm-dm">
                <span class=""><a href="https://willrc.co.uk/privacy">Privacy Policy</a></span>
            </div>
            <div class="four columns wrc-mm-dr">
                <span class="wrc-navlink"><a href="https://twitter.com/willranjhill">Twitter</a></span>  <span class="wrc-navlink"><a rel="me" href="https://fosstodon.org/@willrc">Mastodon</a></span>  <span class="wrc-navlink"><a href="https://instagram.com/willranjhill">Instagram</a></span>  <span class="wrc-navlink"><a href="https://www.linkedin.com/in/willranjanchurchill">LinkedIn</a></span>  <span class="wrc-navlink"><a href="https://github.com/willchurchill">GitHub</a></span>
            </div>
        </div>
    </div>        
</footer>

<!-- JS -->
<script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/lunr.js"></script>
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Red+Hat+Mono:wght@300&display=swap" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Mono:wght@300&display=swap" media="print" onload="this.media='all'" />
<noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Mono:wght@300&display=swap" />
</noscript>

    
</body>

</html>
